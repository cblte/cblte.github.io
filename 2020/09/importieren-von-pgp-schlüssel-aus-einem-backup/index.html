<!doctype html><html lang=de-de><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://cblte.github.io/images/favicon.png><title>Importieren von PGP Schlüssel aus einem Backup | ヾ(＾-＾)ノ ZN80.NET</title><meta name=title content="Importieren von PGP Schlüssel aus einem Backup"><meta name=description content="Bevor ich meine Laptops platt gemacht habe, habe ich alle Heimverzeichnisse auf einer externen Platte gesichert. Ist halt wichtig und so. Dazu noch ein verschlüsseltes Backup bei einem externen Anbieter. Denn ein Backup ist kein Backup! Und kein Backup, kein Mitleid."><meta name=keywords content="100DaysToOffload,GnuPG,How-to,"><meta property="og:title" content="Importieren von PGP Schlüssel aus einem Backup"><meta property="og:description" content="Bevor ich meine Laptops platt gemacht habe, habe ich alle Heimverzeichnisse auf einer externen Platte gesichert. Ist halt wichtig und so. Dazu noch ein verschlüsseltes Backup bei einem externen Anbieter. Denn ein Backup ist kein Backup! Und kein Backup, kein Mitleid."><meta property="og:type" content="article"><meta property="og:url" content="https://cblte.github.io/2020/09/importieren-von-pgp-schl%C3%BCssel-aus-einem-backup/"><meta property="og:image" content="https://cblte.github.io/images/share.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2020-09-05T10:06:00+00:00"><meta property="article:modified_time" content="2021-04-17T22:06:51+02:00"><meta property="og:site_name" content="ZN80.NET - Carstens Blog."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cblte.github.io/images/share.png"><meta name=twitter:title content="Importieren von PGP Schlüssel aus einem Backup"><meta name=twitter:description content="Bevor ich meine Laptops platt gemacht habe, habe ich alle Heimverzeichnisse auf einer externen Platte gesichert. Ist halt wichtig und so. Dazu noch ein verschlüsseltes Backup bei einem externen Anbieter. Denn ein Backup ist kein Backup! Und kein Backup, kein Mitleid."><meta itemprop=name content="Importieren von PGP Schlüssel aus einem Backup"><meta itemprop=description content="Bevor ich meine Laptops platt gemacht habe, habe ich alle Heimverzeichnisse auf einer externen Platte gesichert. Ist halt wichtig und so. Dazu noch ein verschlüsseltes Backup bei einem externen Anbieter. Denn ein Backup ist kein Backup! Und kein Backup, kein Mitleid."><meta itemprop=datePublished content="2020-09-05T10:06:00+00:00"><meta itemprop=dateModified content="2021-04-17T22:06:51+02:00"><meta itemprop=wordCount content="247"><meta itemprop=image content="https://cblte.github.io/images/share.png"><meta itemprop=keywords content="100DaysToOffload,GnuPG,How-to,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,Verdana,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol;margin:auto;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}header,main,footer{max-width:720px;margin:auto;padding:0 20px}.header-box{width:100%;height:200px}.header-box img{width:100%;height:100%;object-fit:cover;object-position:center}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}article{border-bottom:2px solid #aaa;margin-bottom:40px;padding-bottom:40px}article h2{margin-bottom:0}article p.datetime{margin:0;line-height:1.3}figure{word-break:break-word}figure img{max-width:720px;width:100%;margin:auto}figcaption{font-style:italic;padding:2px;text-align:center;color:#888}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight code{background-color:unset;color:initial}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}ul.pagination{list-style-type:none;text-align:center}ul li.page-item{display:inline;margin:0 .7rem}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style><meta data-embetty-server=https://embetty.zn80.net><script async src=https://embetty.zn80.net/embetty.js></script></head><body><header><a href=/ class=title><h1>ヾ(＾-＾)ノ ZN80.NET</h1></a><nav><a href=/>Home</a>
<a href=/podcasts/>Podcasts</a>
<a href=/blogroll/>Blogroll</a>
<a href=/resources/>Resources</a>
<a href=/archive/>Archiv</a>
<a href=/blog>Blog</a></nav></header><main><h1>Importieren von PGP Schlüssel aus einem Backup</h1><p><i><time datetime=2020-09-05 pubdate>05 Sep, 2020</time></i></p><content><p>Bevor ich meine Laptops platt gemacht habe, habe ich alle Heimverzeichnisse auf einer externen Platte gesichert. Ist halt wichtig und so. Dazu noch ein verschlüsseltes Backup bei einem externen Anbieter. Denn ein Backup ist kein Backup! Und kein Backup, kein Mitleid.</p><p>Nun bin ich gerade dabei meine PGP-Schlüssel zu importieren. Brauche ich sie ja für Mailbox.org und Co. Da ich aber keinen der Schlüssel explizit mit dem <code>gpg</code> Tool exportiert habe, sonder einfach nur das <code>.gnupg</code> Verzeichnis gesichert habe, ist das mit dem Import nicht ganz so einfach, oder doch?</p><p>Doch, es ist einfach! Und zwar muss man dafür nur einen kleinen Kniff anwenden, indem man <code>gpg</code> sagt, was das aktuelle <code>homedir</code> ist. Damit lässt sich das Backup-Verzeichnis einbinden und man kann unkompliziert alle Schlüssel exportieren und/oder importieren. Ich will aber nur exportieren um sie in meinen eigentlich, neuen Schlüsselbund, zu importieren.</p><p>Angenommen unser Backup liegt auf <code>/Volumes/ExtHDD/backup/.gnupg</code>, dann wird zum exportieren und gleichzeitigem importieren folgender Befehl eingegeben:</p><pre><code>$ gpg --homedir /Volumes/ExtHDD/backup/.gnupg --armor --export-secret-keys | gpg --import
</code></pre><p>Der erste Teil export die geheimenen Schlüssel aus dem Backup-Schlüsselbund (Keyring) und drückt den Text über die <a href=https://de.wikipedia.org/wiki/Pipeline_(Unix)>Pipeline</a> an <code>gpg --import</code> übergeben um, ohne Angabe des Heimverzeichnisses, diese an den aktuellen Schlüsselbund in <code>~/.gnupg/</code> anzuhängen.</p><p>Zwischendurch sollte <strong>Pinentry</strong> hoch kommen und nach den Passwörtern fragen die für den Export der Schlüssel benötigt werden.</p><p>Wenn alles geklappt hat, sollte das ungefähr so aussehen:
<img src=/images/2020-09-gpg-export.png alt="GPG Export of private keys from a backup keyring into the current keyring"></p><hr><p>Das hier ist Beitrag 15 der <a href=/tag/100DaysToOffload>#100DaysToOffload</a> Herausforderung. Besuche <a href=https://100daystooffload.com>https://100daystooffload.com</a> um mehr Informationen über die Challenge zu erfahren.</p></content><p><a href=https://cblte.github.io/tag/100daystooffload/>#100DaysToOffload</a>
<a href=https://cblte.github.io/tag/gnupg/>#GnuPG</a>
<a href=https://cblte.github.io/tag/how-to/>#How-to</a></p></main><footer><p style=text-align:right>Letzte Aktualisierung am <a href=https://github.com/cblte/zn80-net/commit/adc8ba61ec59ccac0fa5e42749d59f7f1465f63f>17 Apr, 2021 22:06</a></p><p style=text-align:right>Proudly made with <a href=https://gohugo.io target=_blank>Hugo</a> and <a href=https://github.com/janraasch/hugo-bearblog/>ʕ•ᴥ•ʔ Bear</a>. Hosted on <a href=https://uberspace.de target=_blank>Asteroids</a>.<br><a href=/impressum>Impressum - Datenschutz</a></p></footer></body></html>